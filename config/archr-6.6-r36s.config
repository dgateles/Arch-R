# Arch R - Kernel 6.6 Config Fragment for R36S
# Apply on top of rockchip_linux_defconfig:
#   make rockchip_linux_defconfig
#   scripts/kconfig/merge_config.sh -m .config <this-file>
#   make olddefconfig

# ============================================================
# Joystick / Gamepad (adc-joystick + gpio-mux)
# ============================================================
CONFIG_INPUT_JOYSTICK=y
CONFIG_JOYSTICK_ADC=y

# ============================================================
# Multiplexer subsystem (gpio-mux + io-channel-mux)
# ============================================================
CONFIG_MULTIPLEXER=y
CONFIG_MUX_GPIO=y
CONFIG_IIO_MUX=y

# ============================================================
# WiFi USB dongles (broad support)
# ============================================================
CONFIG_CFG80211=m
CONFIG_MAC80211=m
CONFIG_RFKILL=y

# Realtek WiFi (most common R36S dongles)
CONFIG_RTL8XXXU=m
CONFIG_RTL8187=m
CONFIG_RTW88=m
CONFIG_RTW89=m

# MediaTek WiFi
CONFIG_MT7601U=m
CONFIG_MT76x0U=m
CONFIG_MT76x2U=m

# Atheros WiFi
CONFIG_ATH9K_HTC=m
CONFIG_ATH6KL=m

# Ralink WiFi
CONFIG_RT2X00=m
CONFIG_RT2800USB=m

# ============================================================
# Framebuffer console (CRITICAL â€” without this, no text on screen)
# ============================================================
CONFIG_DRM_FBDEV_EMULATION=y
CONFIG_DRM_FBDEV_OVERALLOC=100
CONFIG_FB=y
CONFIG_FRAMEBUFFER_CONSOLE=y
CONFIG_FRAMEBUFFER_CONSOLE_DETECT_PRIMARY=y
CONFIG_LOGO=y

# ============================================================
# USB / OTG
# ============================================================
CONFIG_USB_DWC2=y
CONFIG_USB_DWC2_DUAL_ROLE=y

# ============================================================
# Filesystem support
# ============================================================
CONFIG_VFAT_FS=y
CONFIG_FAT_DEFAULT_UTF8=y
CONFIG_EXFAT_FS=m
CONFIG_NTFS3_FS=m

# ============================================================
# Systemd requirements (kernel 6.6 supports all)
# ============================================================
CONFIG_CGROUPS=y
CONFIG_CGROUP_SCHED=y
CONFIG_CGROUP_PIDS=y
CONFIG_CGROUP_FREEZER=y
CONFIG_CGROUP_DEVICE=y
CONFIG_CGROUP_CPUACCT=y
CONFIG_CGROUP_BPF=y
CONFIG_MEMCG=y
CONFIG_NAMESPACES=y
CONFIG_NET_NS=y
CONFIG_USER_NS=y
CONFIG_PID_NS=y
CONFIG_INOTIFY_USER=y
CONFIG_SIGNALFD=y
CONFIG_TIMERFD=y
CONFIG_EPOLL=y
CONFIG_FHANDLE=y
CONFIG_DEVTMPFS=y
CONFIG_DEVTMPFS_MOUNT=y
CONFIG_TMPFS=y
CONFIG_TMPFS_POSIX_ACL=y
CONFIG_SECCOMP=y
CONFIG_SECCOMP_FILTER=y
CONFIG_CHECKPOINT_RESTORE=y
CONFIG_AUTOFS_FS=y
CONFIG_PROC_CHILDREN=y
